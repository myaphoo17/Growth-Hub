<div class="flex h-full">
  <app-student-msg-sidebar></app-student-msg-sidebar>
  <div class="flex flex-col w-full h-full">
    <div class="flex-1 p-4 overflow-y-auto bg-white">
      <!-- Chat messages container -->
      <div class="flex flex-col space-y-4">
        <ng-container *ngFor="let message of messages">
          <div class="flex justify-{{ message.sender === currentUser ? 'end' : 'start' }}">
            <div [ngClass]="message.sender === currentUser ? 'bg-blue-500 text-white' : 'bg-gray-200 text-gray-900'"
                 class="p-3 rounded-lg max-w-xs shadow-md">
              <p class="break-words">{{ message.content }}</p>
              <span class="text-xs text-black ml-2">{{ message.timestamp }}</span>
            </div>
          </div>
        </ng-container>
      </div>
    </div>
    <div class="p-4 bg-gray-100">
      <!-- Chat input using reactive forms -->
      <form [formGroup]="messageForm" (ngSubmit)="sendMessage()" class="flex space-x-2">
        <textarea formControlName="newMessage"
                  class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 resize-none"
                  placeholder="Type your message..."></textarea>
        <button type="submit"
                class="bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 focus:outline-none">
          Send
        </button>
      </form>
    </div>
  </div>
</div>
